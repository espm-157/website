{"kind":"Notebook","sha256":"452e66f35a6ee230e776773906310002c51d944fdd4bb01eacafc64ba2467aa7","slug":"visualization-basics","location":"/reading/02-visualization-basics.ipynb","dependencies":[],"frontmatter":{"title":"Visualization Basics","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/espm-157/website","exports":[{"format":"ipynb","filename":"02-visualization-basics.ipynb","url":"/website/build/02-visualization-bas-ae401254e62404bf6f40d99821d97896.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Courses involving computer programming frequently start with control structures and data structures.  Extensive education research has underscored the value in starting with visualization. Visualization offers ‘early wins’, producing something that is compelling and often fun. Like many of our skills, we will continue to refine and extend our knowledge of data visualization throughout each stage of the course,  Mastery comes through repetition.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GaFU1kPQMi"}],"key":"Kk5vBXzus9"}],"key":"R2twXVhHKR"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Grammar of Graphics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XMEjhTOxyQ"}],"identifier":"the-grammar-of-graphics","label":"The Grammar of Graphics","html_id":"the-grammar-of-graphics","implicit":true,"key":"vQwKmAhJ85"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KTm324enQ6"},{"type":"inlineCode","value":"seaborn","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"la3ze3s09U"},{"type":"text","value":" Object Interface implements the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fDU9Th6rXE"},{"type":"link","url":"https://www.amazon.com/dp/0387245448","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Grammar of Graphics","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VQOA7xSC2Z"}],"urlSource":"https://www.amazon.com/dp/0387245448","key":"NRBtYaz1Tr"},{"type":"text","value":" in python. This approach to data visualization provides a powerful ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nsBQY0C0OC"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"abstraction","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RIsxDbZkcI"}],"key":"FHp2v8DNo2"},{"type":"text","value":" around data visualization concepts. The theory has been around for a long time, but has become mainstream in data science through the work of Hadley Wickham and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cMASmXOapb"},{"type":"inlineCode","value":"ggplot2","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vZAsSP1FsM"},{"type":"text","value":" implementation in R.  Python libraries have only begun to adopt this concept more recently, but it can now be found in many python visualization libraries, including ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AmpUNIbnD2"},{"type":"inlineCode","value":"plotnine","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"N9ej4bbPGZ"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c7iMkvdJqe"},{"type":"inlineCode","value":"altair","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pNE6evNqbj"},{"type":"text","value":", and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BBIUZORznx"},{"type":"inlineCode","value":"seaborn","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"icHUqg3ULx"},{"type":"text","value":"’s object interface.[^1]","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QKRkZyCmoS"}],"key":"mJdsoDQl9I"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"[1]: Choosing packages is an important but tricky question. Many academic courses pretend to dismiss the issue, arguing that if students learn the fundamental principles, they will always be able to use the whatever package is fashionable at the time.  There is some truth to this, but ignores obvious realities in the learning experience.  The large, decentralized and rapidly moving landscape of python nevertheless makes this choice difficult, especially in comparison to the R language, where for the past decade at least, a single company with intense focus on pedagogy and predictable standards have created and promoted the tightly integrated and widely adoptied ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Mc77QSmYv8"},{"type":"inlineCode","value":"tidyverse","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ZZ8oL3ztPZ"},{"type":"text","value":".  Of those mentioned implementing a grammar of graphics: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lTumcfpcNu"},{"type":"inlineCode","value":"plotnine","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tI4cZkNh2p"},{"type":"text","value":" is nearly-identical translation of the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wRDiUXE8OF"},{"type":"inlineCode","value":"ggplot2","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Z8Xh2fhPHR"},{"type":"text","value":" syntax into python. It has only the core functionality of ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"akGmBPaGjW"},{"type":"inlineCode","value":"ggplot2","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MSDPabik2m"},{"type":"text","value":" and a smaller user community.  ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KQFWEr3o21"},{"type":"inlineCode","value":"altair","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pHVxFMLdDq"},{"type":"text","value":" provides python bindings to the popular ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kxeUkYksN2"},{"type":"inlineCode","value":"vega","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BiLVxZpkJA"},{"type":"text","value":" library in javascript which also implementing the grammar of graphics, and can be particularly useful in generating dashboards where interactive javascript can enrich the design. ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JHBRgA88Js"},{"type":"inlineCode","value":"seaborn","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"OPwRUgTU1h"},{"type":"text","value":" is already a popular within the Python community, and it’s recently added object-oriented syntax provides a more ‘pythonic’ design than the aforementioned examples built around the syntax of other languages.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TCUEJSNb18"}],"key":"QiWGB2fbNZ"}],"key":"mo2vywCTKL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The fundemental principle of the grammar of graphics is that it expresses ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FsaygT2NIA"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"mappings","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"llqaQVw2tE"}],"key":"TTUs5Vp2vF"},{"type":"text","value":" from data to aesthetics of a graph (color, size, x/y position, etc). For instance, different colors are often used in graphs to indicate different groups:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tGnMuy6q3t"}],"key":"dlksylUuZ2"}],"key":"jQl0WuncD4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import ibis\ndf = ibis.read_csv(\"../data/co2.csv\")\ndf.to_pandas()","key":"QGKP0EygSL"},{"type":"output","id":"eDp7VxnZai4RW53hW1x4L","data":[{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>decimal_date</th>\n      <th>name</th>\n      <th>value</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1958.2027</td>\n      <td>co2</td>\n      <td>315.71</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1958.2027</td>\n      <td>smooth</td>\n      <td>314.44</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1958.2877</td>\n      <td>co2</td>\n      <td>317.45</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1958.2877</td>\n      <td>smooth</td>\n      <td>315.16</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1958.3699</td>\n      <td>co2</td>\n      <td>317.51</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>1589</th>\n      <td>2024.3750</td>\n      <td>smooth</td>\n      <td>423.61</td>\n    </tr>\n    <tr>\n      <th>1590</th>\n      <td>2024.4583</td>\n      <td>co2</td>\n      <td>426.91</td>\n    </tr>\n    <tr>\n      <th>1591</th>\n      <td>2024.4583</td>\n      <td>smooth</td>\n      <td>424.44</td>\n    </tr>\n    <tr>\n      <th>1592</th>\n      <td>2024.5417</td>\n      <td>co2</td>\n      <td>425.55</td>\n    </tr>\n    <tr>\n      <th>1593</th>\n      <td>2024.5417</td>\n      <td>smooth</td>\n      <td>425.10</td>\n    </tr>\n  </tbody>\n</table>\n<p>1594 rows × 3 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"      decimal_date    name   value\n0        1958.2027     co2  315.71\n1        1958.2027  smooth  314.44\n2        1958.2877     co2  317.45\n3        1958.2877  smooth  315.16\n4        1958.3699     co2  317.51\n...            ...     ...     ...\n1589     2024.3750  smooth  423.61\n1590     2024.4583     co2  426.91\n1591     2024.4583  smooth  424.44\n1592     2024.5417     co2  425.55\n1593     2024.5417  smooth  425.10\n\n[1594 rows x 3 columns]","content_type":"text/plain"}}}],"key":"NPT1TGnTlj"}],"key":"M35mtpUdF3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The grammar of graphics always maps data (i.e. columns) to abstract aesthetics.  For instance, the categorical values in the “name” column can be mapped to indicate the color:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nP7AxtKwzm"}],"key":"ATWZiHxDJS"}],"key":"VLzlVSq8l5"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Modern\nimport seaborn.objects as so\n(\n    so.Plot(df, x = 'decimal_date', y='value', color=\"name\")\n    .add(so.Line())\n)","key":"lAYaLXd1eb"},{"type":"output","id":"M9faVpiROO72lDlBrjhIy","data":[{"output_type":"execute_result","execution_count":2,"metadata":{"image/png":{"height":378.25,"width":611.15}},"data":{"image/png":{"content_type":"image/png","hash":"03c1b0eeac9d3eb68cab089f6d45503f","path":"/website/build/03c1b0eeac9d3eb68cab089f6d45503f.png"},"text/plain":{"content":"<seaborn._core.plot.Plot at 0x7b017bfa0b60>","content_type":"text/plain"}}}],"key":"jhAaPHJMjk"}],"key":"lun2TBFiWH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Many early plotting engines such as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eTq2jDHtKi"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ide9gMnpir"},{"type":"text","value":" and even the original ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TCrWJ0uVLD"},{"type":"inlineCode","value":"seaborn","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SyfmEK0WS7"},{"type":"text","value":" do not fully reflect these principles. Learning the grammar makes it much easier to make and modify complex charts, while also encouraging best-practices such as tidy data and semantic code.\nContrast this code with an alternative syntax that specifies the color manually:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RGwcZbY25d"}],"key":"zMq7yGObj6"}],"key":"H780cSH8Kv"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Example of older verbose code\nimport seaborn as sns\ndf1 = df.pivot_wider()\nsns.lineplot(df1, x=\"decimal_date\", y = \"co2\", color=\"blue\")\nsns.lineplot(df1, x=\"decimal_date\", y = \"smooth\", color=\"red\")","key":"vF66WEZNWN"},{"type":"output","id":"gZFDUsyVGLdpuwpqTgwVA","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"<Axes: xlabel='decimal_date', ylabel='co2'>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6a4dbdf48dc0ae68f550c01a6a33a5c2","path":"/website/build/6a4dbdf48dc0ae68f550c01a6a33a5c2.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"IfB77D4AVB"}],"key":"joiIv6V466"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this syntax, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JlurLaxAaA"},{"type":"inlineCode","value":"x","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mR7cUZtrRt"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u0BDeP7a4d"},{"type":"inlineCode","value":"y","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u4t4GJjpvk"},{"type":"text","value":" still refer to columns of the data, but ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x4GL7DFo2t"},{"type":"inlineCode","value":"color","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NRWHzQqHPV"},{"type":"text","value":" is asserted manually.  The relationship between color and data structure is not captured here.  If we wanted to use a different color scheme, we would have to manually update each assertion.  This is harder to generalize and more error-prone.  Note also that while this approach is somewhat more concise for a single x/y line, it quickly becomes more verbose, repeating many parts that do not need repeating in the previous approach.  We will avoid this older syntax.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cvyJkrbNU9"}],"key":"VbzecrwAi8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this example we can spot other advantages as well, such as default color theme informed by visualization research, and syntax that encourages the use of “tidy” data, in which columns represent variables and rows represent observations. This is sometimes called ‘long’ form, and more formally known as Cobb’s Third Normal Form. This format takes some getting used to, and frequently requires some transformation or ‘tidying’ to achieve, since many wild-caught data examples do not follow this best practice, especially older and smaller datasets.  We will have more to say about this later.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"n6qkEcdUPb"}],"key":"lUTUaXFSEm"}],"key":"eoU3fJCXmM"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Additional Reading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rY5gOE1ph5"}],"key":"foUgz2Dj0f"}],"key":"ntTN6h4JqW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Read through the following tutorials on Seaborn","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RCxV8RIp63"}],"key":"JbBoY9DTQ6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://www.anaconda.com/blog/an-introduction-to-the-seaborn-objects-system","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Object Interface Introduction","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yi7hmH0f8V"}],"urlSource":"https://www.anaconda.com/blog/an-introduction-to-the-seaborn-objects-system","key":"UzrHwYJRrb"}],"key":"mGnQYOOvz9"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://anaconda.cloud/seaborn-objects-system","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Object Interface Walk-through","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Xbbgd48XK7"}],"urlSource":"https://anaconda.cloud/seaborn-objects-system","key":"yEYKjKXrBl"}],"key":"oqijReCuZ4"}],"key":"bdxjE5UFdK"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"u7qwIw5ql7"}],"key":"tzzEppK4mG"}],"key":"bdtkfnI843"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://seaborn.pydata.org/tutorial/objects_interface.html","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Seaborn Object Interface","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sKZvIF8Pfl"}],"urlSource":"https://seaborn.pydata.org/tutorial/objects_interface.html","key":"i2rIYflljR"}],"key":"uTNhvZk83Z"}],"key":"DQ0r9Fc9v9"}],"key":"ePpykUnf4E"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Intro to GitHub & JupyterHub","url":"/github-jupyter","group":"Textbook"},"next":{"title":"Accessing Real World Data","url":"/data-access","group":"Textbook"}}},"domain":"http://localhost:3000"}